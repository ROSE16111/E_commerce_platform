(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[778],{1390:(e,s,a)=>{"use strict";a.d(s,{A:()=>y});var t=a(95155),r=a(12115),l=a(52619),n=a.n(l),c=a(20063),i=a(61712),d=a(26617),o=a(10512),m=a(33),h=a(65229),u=a(9540);let x=[{name:"首页",href:"/",icon:i.A},{name:"商品管理",href:"/products",icon:d.A},{name:"订单管理",href:"/orders",icon:o.A},{name:"报表分析",href:"/reports",icon:m.A}];function p(){let[e,s]=(0,r.useState)(!1),a=(0,c.usePathname)();return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"lg:hidden fixed top-4 left-4 z-50",children:(0,t.jsx)("button",{onClick:()=>s(!e),className:"p-2 rounded-md bg-white shadow-md border border-gray-200",children:e?(0,t.jsx)(h.A,{className:"h-6 w-6"}):(0,t.jsx)(u.A,{className:"h-6 w-6"})})}),(0,t.jsx)("div",{className:"\n        fixed inset-y-0 left-0 z-40 w-64 bg-white shadow-lg transform transition-transform duration-300 ease-in-out\n        ".concat(e?"translate-x-0":"-translate-x-full","\n        lg:translate-x-0 lg:static lg:inset-0\n      "),children:(0,t.jsxs)("div",{className:"flex flex-col h-full",children:[(0,t.jsx)("div",{className:"flex items-center justify-center h-16 px-4 border-b border-gray-200",children:(0,t.jsx)("h1",{className:"text-xl font-bold text-gray-900",children:"电商ERP"})}),(0,t.jsx)("nav",{className:"flex-1 px-4 py-6 space-y-2",children:x.map(e=>{let r=a===e.href;return(0,t.jsxs)(n(),{href:e.href,className:"\n                    flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors duration-200\n                    ".concat(r?"bg-primary-100 text-primary-700 border-r-2 border-primary-500":"text-gray-600 hover:bg-gray-100 hover:text-gray-900","\n                  "),onClick:()=>s(!1),children:[(0,t.jsx)(e.icon,{className:"mr-3 h-5 w-5"}),e.name]},e.name)})}),(0,t.jsx)("div",{className:"px-4 py-4 border-t border-gray-200",children:(0,t.jsxs)("div",{className:"text-xs text-gray-500 text-center",children:[(0,t.jsx)("p",{children:"E-commerce ERP (Lite)"}),(0,t.jsx)("p",{children:"v0.1.0"})]})})]})}),e&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-30 lg:hidden",onClick:()=>s(!1)})]})}var j=a(37621),b=a(22663);function y(e){let{children:s}=e,[a,l]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{let e=async()=>{try{await j.ue.healthCheck(),l(!0)}catch(e){l(!1),b.Ay.error("无法连接到后端服务，请确保后端已启动")}};e();let s=setInterval(e,3e4);return()=>clearInterval(s)},[]),(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,t.jsx)("div",{className:"fixed top-4 right-4 z-50",children:(0,t.jsx)("div",{className:"\n          px-3 py-1 rounded-full text-xs font-medium\n          ".concat(a?"bg-success-100 text-success-800":"bg-danger-100 text-danger-800","\n        "),children:a?"● 已连接":"● 未连接"})}),(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)(p,{}),(0,t.jsx)("main",{className:"flex-1 lg:ml-0",children:(0,t.jsx)("div",{className:"min-h-screen",children:s})})]})]})}},6191:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(45105).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},21786:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(45105).A)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]])},24326:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(45105).A)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]])},37621:(e,s,a)=>{"use strict";a.d(s,{GQ:()=>n,N:()=>c,te:()=>i,ue:()=>d});var t=a(95125),r=a(22663);console.log("NEXT_PUBLIC_API_URL:","https://e-commerce-platform-7zg5.onrender.com");let l=t.A.create({baseURL:"https://e-commerce-platform-7zg5.onrender.com",timeout:1e4,headers:{"Content-Type":"application/json"}});l.interceptors.request.use(e=>e,e=>Promise.reject(e)),l.interceptors.response.use(e=>e,e=>{if(e.response){var s,a;let t=null==(s=e.response.data)?void 0:s.detail,l="请求失败";Array.isArray(t)?l=t.map(e=>e.msg).join("；"):"string"==typeof t?l=t:(null==(a=e.response.data)?void 0:a.message)&&(l=e.response.data.message),r.Ay.error(l)}else e.request?r.Ay.error("网络连接失败，请检查后端服务是否启动"):r.Ay.error("请求配置错误");return Promise.reject(e)});let n={getProducts:()=>l.get("/products"),getProduct:e=>l.get("/products/".concat(e)),createProduct:e=>l.post("/products",e),updateProduct:(e,s)=>l.patch("/products/".concat(e),s),deleteProduct:e=>l.delete("/products/".concat(e)),importProducts:e=>{let s=new FormData;return s.append("file",e),l.post("/products/import/csv",s,{headers:{"Content-Type":"multipart/form-data"}})}},c={getOrders:()=>l.get("/orders"),getOrder:e=>l.get("/orders/".concat(e)),getOrderByNumber:e=>l.get("/orders/by-number/".concat(e)),createOrder:e=>l.post("/orders",e),updateOrder:(e,s)=>l.patch("/orders/".concat(e),s),deleteOrder:e=>l.delete("/orders/".concat(e)),importOrders:e=>{let s=new FormData;return s.append("file",e),l.post("/orders/import/csv",s,{headers:{"Content-Type":"multipart/form-data"}})}},i={getComprehensiveReport:e=>l.post("/reports/comprehensive",e),getSalesSummary:e=>l.get("/reports/summary",{params:e}),getChannelStats:e=>l.get("/reports/channels",{params:e}),getProductStats:e=>l.get("/reports/products",{params:e}),getTimeSeriesData:e=>l.get("/reports/timeseries",{params:e})},d={healthCheck:()=>l.get("/health")}},46847:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>p});var t=a(95155),r=a(12115),l=a(1390),n=a(37621),c=a(22663),i=a(10512),d=a(86651),o=a(21786),m=a(6191),h=a(71360);let u=(0,a(45105).A)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var x=a(24326);function p(){let[e,s]=(0,r.useState)([]),[a,p]=(0,r.useState)([]),[g,f]=(0,r.useState)(!0),[N,v]=(0,r.useState)(!1),[w,_]=(0,r.useState)(null),[k,C]=(0,r.useState)(""),[A,S]=(0,r.useState)(!1),[q,P]=(0,r.useState)(null),O=async()=>{try{f(!0);let[e,a]=await Promise.all([n.N.getOrders(),n.GQ.getProducts()]),t=[...e.data].sort((e,s)=>e.transaction_date?s.transaction_date?new Date(s.transaction_date).getTime()-new Date(e.transaction_date).getTime():-1:1);s(t),p(a.data)}catch(e){console.error("获取数据失败:",e)}finally{f(!1)}};(0,r.useEffect)(()=>{O()},[]);let D=async e=>{try{w?(await n.N.updateOrder(w.id,e),c.Ay.success("订单更新成功")):(await n.N.createOrder(e),c.Ay.success("订单创建成功")),v(!1),_(null),O()}catch(e){console.error("保存订单失败:",e)}},F=async e=>{if(confirm("确定要删除这个订单吗？删除后会自动恢复库存。"))try{await n.N.deleteOrder(e),c.Ay.success("订单删除成功"),O()}catch(e){console.error("删除订单失败:",e)}},[z,L]=(0,r.useState)(!1),[E,M]=(0,r.useState)(0),T=async()=>{if(confirm("确定要删除当前显示的 ".concat(B.length," 个订单吗？"))){L(!0),M(0);try{let e=B.length;for(let s=0;s<e;s++)await n.N.deleteOrder(B[s].id),M(Math.round((s+1)/e*100)),await new Promise(e=>setTimeout(e,100));c.Ay.success("成功删除 ".concat(e," 个订单")),O()}catch(e){console.error("批量删除订单失败:",e),c.Ay.error("批量删除订单失败")}finally{setTimeout(()=>L(!1),800)}}},I=async e=>{try{let s=await n.N.importOrders(e);c.Ay.success("导入完成！新增 ".concat(s.data.inserted," 个，跳过 ").concat(s.data.skipped," 个")),s.data.errors.length>0&&c.Ay.error("有 ".concat(s.data.errors.length," 个错误")),S(!1),O()}catch(e){console.error("导入失败:",e)}},B=e.filter(e=>{var s,t;return e.order_number.toLowerCase().includes(k.toLowerCase())||(null==(s=a.find(s=>s.id===e.product_id))?void 0:s.name)&&(null==(t=a.find(s=>s.id===e.product_id))?void 0:t.name.toLowerCase().includes(k.toLowerCase()))});return(0,t.jsx)(l.A,{children:(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsxs)("h1",{className:"text-3xl font-bold text-gray-900 flex items-center",children:[(0,t.jsx)(i.A,{className:"h-8 w-8 mr-3 text-success-600"}),"订单管理"]}),(0,t.jsx)("p",{className:"mt-2 text-gray-600",children:"管理订单信息，自动扣减库存"})]}),(0,t.jsxs)("div",{className:"mb-6 flex flex-col sm:flex-row gap-4",children:[(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(d.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,t.jsx)("input",{type:"text",placeholder:"搜索订单号或商品名称...",value:k,onChange:e=>C(e.target.value),className:"form-input pl-10"})]})}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)("button",{onClick:()=>S(!0),className:"btn-secondary",children:[(0,t.jsx)(o.A,{className:"h-4 w-4 mr-2"}),"导入CSV"]}),(0,t.jsxs)("button",{onClick:()=>{_(null),v(!0)},className:"btn-success",children:[(0,t.jsx)(m.A,{className:"h-4 w-4 mr-2"}),"新增订单"]}),(0,t.jsxs)("button",{onClick:T,className:"btn-danger",children:[(0,t.jsx)(h.A,{className:"h-4 w-4 mr-2"}),"批量删除"]})]})]}),z&&(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("div",{className:"w-full bg-gray-200 rounded h-3",children:(0,t.jsx)("div",{className:"bg-red-500 h-3 rounded transition-all duration-300",style:{width:"".concat(E,"%")}})}),(0,t.jsxs)("p",{className:"text-sm mt-2 text-gray-600",children:["正在删除订单... ",E,"%"]})]}),(0,t.jsxs)("div",{className:"card",children:[(0,t.jsx)("div",{className:"card-header",children:(0,t.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:["订单列表 (",B.length,")"]})}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"table",children:[(0,t.jsx)("thead",{className:"table-header",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"table-header-cell",children:"订单号"}),(0,t.jsx)("th",{className:"table-header-cell",children:"交易日期"}),(0,t.jsx)("th",{className:"table-header-cell",children:"买家"}),(0,t.jsx)("th",{className:"table-header-cell",children:"商品名称"}),(0,t.jsx)("th",{className:"table-header-cell",children:"数量"}),(0,t.jsx)("th",{className:"table-header-cell",children:"售价"}),(0,t.jsx)("th",{className:"table-header-cell",children:"利润"}),(0,t.jsx)("th",{className:"table-header-cell",children:"渠道"}),(0,t.jsx)("th",{className:"table-header-cell",children:"状态"}),(0,t.jsx)("th",{className:"table-header-cell",children:"备注"}),(0,t.jsx)("th",{className:"table-header-cell",children:"操作"})]})}),(0,t.jsx)("tbody",{className:"table-body",children:g?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:10,className:"table-cell text-center py-8",children:(0,t.jsxs)("div",{className:"flex items-center justify-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-success-600"}),(0,t.jsx)("span",{className:"ml-2",children:"加载中..."})]})})}):0===B.length?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:10,className:"table-cell text-center py-8 text-gray-500",children:"暂无订单数据"})}):B.map(e=>{var s;return(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{className:"table-cell font-mono text-sm",children:e.order_number}),(0,t.jsx)("td",{className:"table-cell",children:e.transaction_date?new Date(e.transaction_date).toLocaleDateString("zh-CN"):new Date(e.created_at).toLocaleDateString("zh-CN")}),(0,t.jsx)("td",{className:"table-cell",children:e.buyer_name||"-"}),(0,t.jsx)("td",{className:"table-cell font-mono text-sm",children:(null==(s=a.find(s=>s.id===e.product_id))?void 0:s.name)||"N/A"}),(0,t.jsx)("td",{className:"table-cell",children:e.quantity}),(0,t.jsxs)("td",{className:"table-cell font-medium",children:["\xa5",e.actual_price.toFixed(2)]}),(0,t.jsxs)("td",{className:"table-cell font-medium text-success-600",children:["\xa5",e.profit.toFixed(2)]}),(0,t.jsx)("td",{className:"table-cell",children:(0,t.jsx)("span",{className:"badge ".concat((e=>{switch(e){case"Facebook":return"badge-primary";case"saltFish":return"badge-warning";case"eBay":return"badge-success";default:return"badge-secondary"}})(e.channel)),children:e.channel})}),(0,t.jsx)("td",{className:"table-cell",children:(0,t.jsx)("span",{className:"badge ".concat("done"===e.status?"badge-success":"badge-warning"),children:"done"===e.status?"已完成":"pending"})}),(0,t.jsx)("td",{className:"text-sm text-gray-700",children:e.remark||"-"}),(0,t.jsx)("td",{className:"table-cell",children:(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{onClick:()=>P(e),className:"text-primary-600 hover:text-primary-800",title:"查看详情",children:(0,t.jsx)(u,{className:"h-4 w-4"})}),(0,t.jsx)("button",{onClick:()=>{_(e),v(!0)},className:"text-warning-600 hover:text-warning-800",title:"编辑",children:(0,t.jsx)(x.A,{className:"h-4 w-4"})}),(0,t.jsx)("button",{onClick:()=>F(e.id),className:"text-danger-600 hover:text-danger-800",title:"删除",children:(0,t.jsx)(h.A,{className:"h-4 w-4"})})]})})]},e.id)})})]})})]}),N&&(0,t.jsx)(j,{order:w,products:a,onSubmit:D,onClose:()=>{v(!1),_(null)}}),q&&(0,t.jsx)(b,{order:q,products:a,onClose:()=>P(null)}),A&&(0,t.jsx)(y,{onImport:I,onClose:()=>S(!1),title:"导入订单CSV",description:"请选择包含订单信息的CSV文件",requiredFields:["product_sku","actual_price","quantity","payment_method","channel","status"],optionalFields:["transaction_date","buyer_name"]})]})})}function j(e){var s,a,l,n,c,i;let{order:d,products:o,onSubmit:m,onClose:h}=e,[u,x]=(0,r.useState)({product_sku:d&&(null==(s=o.find(e=>e.id===d.product_id))?void 0:s.sku)||"",actual_price:(null==d||null==(a=d.actual_price)?void 0:a.toString())||"",quantity:(null==d||null==(l=d.quantity)?void 0:l.toString())||"",payment_method:(null==d?void 0:d.payment_method)||"cash",channel:(null==d?void 0:d.channel)||"eBay",status:(null==d?void 0:d.status)||"pending",buyer_name:(null==d?void 0:d.buyer_name)||"",transaction_date:(null==d?void 0:d.transaction_date)||"",remark:(null==d?void 0:d.remark)||""});return(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4 max-h-[90vh] overflow-y-auto",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-4",children:d?"编辑订单":"新增订单"}),(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault(),m({...u,actual_price:u.actual_price?parseFloat(u.actual_price):0,quantity:u.quantity?parseInt(u.quantity):0,transaction_date:new Date(u.transaction_date).toISOString()})},className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"form-label",children:"商品 *"}),d?(0,t.jsx)("input",{type:"text",value:"".concat((null==(n=o.find(e=>e.id))?void 0:n.name)||""," - ").concat((null==(c=o.find(e=>e.id))?void 0:c.sku)||""," (库存: ").concat(null==(i=o.find(e=>e.id))?void 0:i.quantity,")"),className:"form-input",disabled:!0}):(0,t.jsxs)("select",{value:u.product_sku,onChange:e=>{let s=e.target.value,a=o.find(e=>e.sku===s);x({...u,product_sku:s,actual_price:!d&&(null==a?void 0:a.preset_price)?null==a?void 0:a.preset_price.toString():u.actual_price})},className:"form-input",required:!0,children:[(0,t.jsx)("option",{value:"",children:"选择商品"}),o.map(e=>(0,t.jsxs)("option",{value:e.sku,children:[e.sku," - ",e.name," (库存: ",e.quantity,")"]},e.sku))]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"form-label",children:"实际售价 *"}),(0,t.jsx)("input",{type:"number",step:"0.01",min:"0",value:u.actual_price,onChange:e=>x({...u,actual_price:e.target.value}),className:"form-input",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"form-label",children:"数量 *"}),(0,t.jsx)("input",{type:"number",min:"1",value:u.quantity,onChange:e=>x({...u,quantity:e.target.value}),className:"form-input",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"form-label",children:"支付方式 *"}),(0,t.jsxs)("select",{value:u.payment_method,onChange:e=>x({...u,payment_method:e.target.value}),className:"form-input",required:!0,children:[(0,t.jsx)("option",{value:"cash",children:"现金"}),(0,t.jsx)("option",{value:"payid",children:"PayID"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"form-label",children:"销售渠道 *"}),(0,t.jsxs)("select",{value:u.channel,onChange:e=>x({...u,channel:e.target.value}),className:"form-input",required:!0,children:[(0,t.jsx)("option",{value:"eBay",children:"eBay"}),(0,t.jsx)("option",{value:"Facebook",children:"Facebook"}),(0,t.jsx)("option",{value:"saltFish",children:"咸鱼"}),(0,t.jsx)("option",{value:"other",children:"其他"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"form-label",children:"订单状态 *"}),(0,t.jsxs)("select",{value:u.status,onChange:e=>x({...u,status:e.target.value}),className:"form-input",required:!0,children:[(0,t.jsx)("option",{value:"pending",children:"待处理"}),(0,t.jsx)("option",{value:"done",children:"已完成"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"form-label",children:"买家姓名"}),(0,t.jsx)("input",{type:"text",value:u.buyer_name,onChange:e=>x({...u,buyer_name:e.target.value}),className:"form-input"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"form-label",children:"交易日期 *"}),(0,t.jsx)("input",{type:"date",value:u.transaction_date,onChange:e=>x({...u,transaction_date:e.target.value}),className:"form-input",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"form-label",children:"备注"}),(0,t.jsx)("input",{type:"text",value:u.remark,onChange:e=>x({...u,remark:e.target.value}),className:"form-input"})]}),(0,t.jsxs)("div",{className:"flex gap-2 pt-4",children:[(0,t.jsx)("button",{type:"submit",className:"btn-success flex-1",children:d?"更新":"创建"}),(0,t.jsx)("button",{type:"button",onClick:h,className:"btn-secondary flex-1",children:"取消"})]})]})]})})}function b(e){let{order:s,products:a,onClose:r}=e,l=a.find(e=>e.id===s.product_id);return(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"订单详情"}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"订单号："}),s.order_number]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"商品："}),l?l.name:"未知商品"," (",null==l?void 0:l.sku,")"]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"数量："}),s.quantity]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"售价："}),"\xa5",s.actual_price.toFixed(2)]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"利润："}),"\xa5",s.profit.toFixed(2)]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"支付方式："}),"cash"===s.payment_method?"现金":"PayID"]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"渠道："}),s.channel]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"状态："}),"done"===s.status?"已完成":"待处理"]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"买家："}),s.buyer_name||"-"]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"备注："}),s.remark||"-"]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"创建时间："}),new Date(s.created_at).toLocaleString()]})]}),(0,t.jsx)("div",{className:"mt-4 flex justify-end",children:(0,t.jsx)("button",{onClick:r,className:"btn-secondary",children:"关闭"})})]})})}function y(e){let{onImport:s,onClose:a,title:l,description:n,requiredFields:c,optionalFields:i}=e,[d,o]=(0,r.useState)(null);return(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-4",children:l}),(0,t.jsx)("p",{className:"text-gray-600 mb-4",children:n}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("h4",{className:"font-medium mb-2",children:"必填字段："}),(0,t.jsx)("div",{className:"flex flex-wrap gap-1",children:c.map(e=>(0,t.jsx)("span",{className:"badge badge-primary",children:e},e))})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("h4",{className:"font-medium mb-2",children:"可选字段："}),(0,t.jsx)("div",{className:"flex flex-wrap gap-1",children:i.map(e=>(0,t.jsx)("span",{className:"badge badge-secondary",children:e},e))})]}),(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault(),d&&s(d)},children:[(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{className:"form-label",children:"选择CSV文件"}),(0,t.jsx)("input",{type:"file",accept:".csv",onChange:e=>{var s;return o((null==(s=e.target.files)?void 0:s[0])||null)},className:"form-input",required:!0})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{type:"submit",className:"btn-primary flex-1",disabled:!d,children:"导入"}),(0,t.jsx)("button",{type:"button",onClick:a,className:"btn-secondary flex-1",children:"取消"})]})]})]})})}},71360:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(45105).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},84203:(e,s,a)=>{Promise.resolve().then(a.bind(a,46847))},86651:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(45105).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])}},e=>{e.O(0,[663,617,441,255,358],()=>e(e.s=84203)),_N_E=e.O()}]);